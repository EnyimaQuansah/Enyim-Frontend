<%- include('../partials/header') %>

<style>
  .profile-card {
    background-color: #f7f9fc;
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  }

  .profile-image {
    border: 5px solid #a9cfe2;
    box-shadow: 0 0 8px rgba(0, 0, 0, 0.1);
  }

  .btn-warning {
    background-color: #ffcc00;
    border-color: #ffcc00;
  }

  .btn-warning:hover {
    background-color: #ffb700;
    border-color: #ffb700;
  }

  .profile-section {
    color: #495057;
  }

  .section-title {
    color: #007bff;
    font-weight: bold;
    font-size: 1.2em;
  }

  .text-muted {
    color: #6c757d !important;
  }

  .card-body {
    padding: 2rem;
  }
</style>

<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-6">
      <div class="card shadow-sm profile-card">
        <div class="card-body text-center">
          <img
            id="profileImage"
            src="<%= user.profileImageUrl || 'https://www.shutterstock.com/image-vector/avatar-gender-neutral-silhouette-vector-600nw-2470054311.jpg' %>"
            alt="User Image"
            class="img-fluid rounded-circle mb-3 profile-image"
            style="width: 150px; height: 150px; object-fit: cover;"
          />
          <h5><%= user.name || user.username %></h5>
          <p class="text-muted"><%= user.email %></p>
          
          <!-- Display Age -->
          <p class="profile-section">Age: <%= user.age || 'N/A' %></p>
          
          <!-- Display Location -->
          <p class="profile-section">Location: <%= user.location || 'Not specified' %></p>

          <% if (user.role === 'SHOP_OWNER') { %>
            <!-- Shop Information for Shop Owner -->
            <div class="mt-4">
              <p class="section-title">Shop Details</p>
              <p>Shop Name: <%= user.shopName || 'No shop available' %></p>
              <p>Shop Description: <%= user.shopDescription || 'N/A' %></p>
              <p>Shop Address: <%= user.shopAddress || 'N/A' %></p>
            </div>
          <% } else if (user.role === 'USER') { %>
            <!-- User Information for Standard User -->
            <div class="alert alert-info mt-4">
              <p>As a standard user, you can update your personal details. Shop-related fields are not applicable to your account.</p>
            </div>
          <% } %>

          <a href="/edit" class="btn btn-warning btn-sm mt-4">Edit Profile</a>
        </div>
      </div>
    </div>
  </div>
</div>

<%- include('../partials/footer') %>
